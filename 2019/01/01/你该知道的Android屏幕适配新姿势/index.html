<!DOCTYPE html>
<html lang="zh-CN">










<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/favicon.png">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no" name="viewport">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="">
    <meta name="author" content="John Doe">
    <meta name="keywords" content="">
    <title>ä½ è¯¥çŸ¥é“çš„Androidå±å¹•é€‚é…æ–°å§¿åŠ¿ ~ BlackToast</title>
    <link rel="stylesheet" href="/css/Material_Icons.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/main.css">
    
        <link rel="stylesheet" href="/css/post.css">
        
            <link rel="stylesheet" href="/css/Prettify/tomorrow-night-eighties.min.css">
        
    
</head>

<body class=" sidebar-collapse">
<nav class="navbar navbar-transparent navbar-color-on-scroll fixed-top navbar-expand-lg" color-on-scroll="100" id="sectionsNav">
    <div class="container">
        <div class="navbar-translate">
            <a class="navbar-brand" href="/">
                BlackToast</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" aria-expanded="false" aria-label="Toggle navigation">
                <span class="sr-only">Toggle navigation</span>
                <span class="navbar-toggler-icon"></span>
                <span class="navbar-toggler-icon"></span>
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav ml-auto">
                    
                        
                            <li class="nav-item">
                                <a class="nav-link" href="/archives/">
                                    archives
                                </a>
                            </li>
                        
                    
                    
                        
                            <li class="nav-item">
                                <a class="nav-link" rel="tooltip" title="" data-placement="bottom" href="https://github.com/black-toast/" target="_blank" data-original-title="See me here">
                                    <i class="fa fa-github"></i>
                                </a>
                            </li>
                        
                    
                </ul>
            </div>
    </div>
</nav>
    
  <div class="page-header header-filter" data-parallax="false" style="background-image: url('/img/boat.jpg'); height: 70vh;">
    
      <div class="container">
        <h1 class="title text-center post_title">ä½ è¯¥çŸ¥é“çš„Androidå±å¹•é€‚é…æ–°å§¿åŠ¿</h1>
        <p class="text-center"><b>Tuesday, January 1st 2019, 12:00 am</b></p>
      </div>
    
  </div>

  
  
  
    <div class="row" style="margin: 0 0 0; z-index: 999;">
  <div class="col-md-8 offset-md-1">
    <div class="main main-raised">
      <div class="container">
        <div class="section">
          <div class="post_content">
              <h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><blockquote>
<p>å‰æ®µæ—¶é—´åœ¨æ˜é‡‘ä¸Šçœ‹äº†ä¸€ç¯‡å…³äºAndroidå±å¹•é€‚é…çš„æ–°æ–¹æ¡ˆ<a href="https://juejin.im/post/5b6250bee51d451918537021" target="_blank" rel="noopener">Android å±å¹•é€‚é…ä»æœªå¦‚æ–¯ç®€å•ï¼ˆ8æœˆ10æ—¥æœ€ç»ˆæ›´æ–°ç‰ˆï¼‰</a>ä»¥åŠ<a href="https://mp.weixin.qq.com/s/d9QCoBP6kV9VSWvVldVVwA" target="_blank" rel="noopener">ä¸€ç§æä½æˆæœ¬çš„Androidå±å¹•é€‚é…æ–¹å¼</a>, è¿™ã€‚ã€‚ã€‚ ä¸æ˜¯å’Œæˆ‘çš„é€‚é…æ–¹æ¡ˆä¸€ä¸ªæ€è·¯å—ï¼Œè¿˜æ˜¯æœ‰ä¸€å®šçš„å·®åˆ«ã€‚</p>
<p>çœŸçš„æ˜¯å·§äº†ï¼Œæˆ‘ä»¬å…¬å¸ä¹Ÿæ˜¯åšèµ„è®¯çš„ï¼Œå‘ƒã€‚ã€‚ å’Œå¤´æ¡å¥½åƒã€‚èµ·åˆï¼Œæˆ‘ä»¬çš„éœ€æ±‚æ˜¯æ”¹å­—ä½“ï¼Œäºæ˜¯å†™äº†è¿™ç¯‡æ–‡ç« <a href="https://blog.csdn.net/black_bread/article/details/78508938" target="_blank" rel="noopener">Androidå±å¹•é€‚é…</a>ï¼Œè¯¥æ–‡ç« å†™äº†é€‚é…ç›¸å…³çŸ¥è¯†ç‚¹ä»¥åŠ<strong>å¦‚ä½•é˜²æ­¢æ›´æ”¹ç³»ç»Ÿå­—ä½“å½±å“åº”ç”¨ui</strong></p>
<p>æ¥ç€ï¼Œäº§å“éœ€æ±‚æ¥äº†ï¼Œæ¯å°æœºå­çš„èµ„è®¯é¢‘é“ä¸ªæ•°ä¸ä¸€æ ·ï¼Œè¾¹è·ä¹Ÿæœ‰å·®åˆ«ï¼Œ1åƒç´ éƒ½ä¸èƒ½å·®ã€‚ã€‚ã€‚ç”±äºé¡¹ç›®ä¸­å¹¶æ²¡æœ‰åšå±å¹•é€‚é…ï¼Œæ‰‹åŠ¨ä¸€ä¸ªä¸ªæ–‡ä»¶æ”¹è¿‡å»ï¼Ÿï¼Ÿå‡‰å‡‰ğŸ˜±ğŸ˜±ğŸ˜±</p>
<p>æœ€åï¼Œä»é€‚é…å­—ä½“çš„æ–¹æ¡ˆå»¶ä¼¸å‡ºé€‚é…å±å¹•çš„æ–¹æ¡ˆ</p>
</blockquote>
<p><img src="https://upload-images.jianshu.io/upload_images/4221370-ef35c61ce6599652.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="çœŸçš„æ˜¯æˆ‘è‡ªå·±çš„æ–¹æ¡ˆï¼Œå·§çš„æ˜¯å’Œå¤´æ¡æƒ³ä¸€å—å»äº†"></p>
<blockquote>
<p>ä¹‹å‰æ²¡æ¡ä»¶éªŒè¯æ–¹æ¡ˆï¼Œç°åœ¨å¤´æ¡å¸®æˆ‘éªŒè¯ï¼Œæ¡äº†ä¸ªç°æˆçš„ğŸ˜ğŸ˜ğŸ˜</p>
</blockquote>
<h3 id="éœ€äº†è§£çš„ç›¸å…³çŸ¥è¯†"><a href="#éœ€äº†è§£çš„ç›¸å…³çŸ¥è¯†" class="headerlink" title="éœ€äº†è§£çš„ç›¸å…³çŸ¥è¯†"></a>éœ€äº†è§£çš„ç›¸å…³çŸ¥è¯†</h3><ul>
<li>å±å¹•å°ºå¯¸</li>
</ul>
<blockquote>
<p>æŒ‡å±å¹•å¯¹è§’çº¿çš„ç‰©ç†å°ºå¯¸(inch),1è‹±å¯¸=2.54cm</p>
</blockquote>
<ul>
<li>å±å¹•åˆ†è¾¨ç‡</li>
</ul>
<blockquote>
<p>æŒ‡å±å¹•æ¨ªçºµå‘åƒç´ ç‚¹(px)ï¼Œä¾‹ï¼š1920x1080ã€2560x1440</p>
</blockquote>
<ul>
<li>åƒç´ å¯†åº¦</li>
</ul>
<blockquote>
<p>æ¯è‹±å¯¸çš„åƒç´ ç‚¹(dpi)</p>
</blockquote>
<ul>
<li>å±å¹•æ— å…³åƒç´ </li>
</ul>
<blockquote>
<p>æŒ‡ä¸å±å¹•åƒç´ ç‚¹æ— å…³çš„è¡¨ç¤ºå•ä½(dp/dip),ä¸»è¦ç”¨äºé™å®šæ§ä»¶å¤§å°</p>
</blockquote>
<ul>
<li><strong>å¯†åº¦å…³ç³»åŠå…¶æ¢ç®—è¡¨</strong></li>
</ul>
<table>
<thead>
<tr>
<th>å¯†åº¦ç±»å‹</th>
<th>åˆ†è¾¨ç‡</th>
<th>åƒç´ å¯†åº¦</th>
<th>åƒç´ å¯†åº¦èŒƒå›´</th>
<th>æ¢ç®—(dp-&gt;px)</th>
</tr>
</thead>
<tbody>
<tr>
<td>ldpi</td>
<td>320x240</td>
<td>120</td>
<td>0~120</td>
<td>1dp -&gt; 0.75px</td>
</tr>
<tr>
<td>mdpi</td>
<td>480x320</td>
<td>160</td>
<td>120~160</td>
<td>1dp -&gt; 1px</td>
</tr>
<tr>
<td>hpdi</td>
<td>800x480</td>
<td>240</td>
<td>160~240</td>
<td>1dp -&gt; 1.5px</td>
</tr>
<tr>
<td>xhdpi</td>
<td>1280x720</td>
<td>320</td>
<td>240~320</td>
<td>1dp -&gt; 2px</td>
</tr>
<tr>
<td>xxhdpi</td>
<td>1920x1080</td>
<td>480</td>
<td>320~480</td>
<td>1dp -&gt; 3px</td>
</tr>
<tr>
<td>xxxhdpi</td>
<td>2560x1440</td>
<td>640</td>
<td>480~640</td>
<td>1dp -&gt; 4px</td>
</tr>
</tbody>
</table>
<ul>
<li>è°ƒæ•´é¦–é€‰é¡¹ä¸­å­—ä½“å¤§å°ï¼Œdensityä¸ä¼šå˜åŒ–ï¼ŒscaledDensityè·Ÿéšå­—å·å˜åŒ–ã€‚å› æ­¤æœ‰ç‰¹æ®Šéœ€æ±‚çš„æƒ…å†µï¼Œä¸è®©åº”ç”¨å­—ä½“è·Ÿéšè®¾ç½®ä¸­å­—å·å˜åŒ–ï¼Œå¯ç›´æ¥è°ƒæ•´scaledDensityçš„å€¼ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public class MyApplication extends Application &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void onCreate() &#123;</span><br><span class="line">        super.onCreate();</span><br><span class="line">        Resources.getSystem().getDisplayMetrics().scaledDensity = Resources.getSystem().getDisplayMetrics().density;</span><br><span class="line">        getResources().getDisplayMetrics().scaledDensity = getResources().getDisplayMetrics().density;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void onConfigurationChanged(Configuration newConfig) &#123;</span><br><span class="line">        super.onConfigurationChanged(newConfig);</span><br><span class="line">        Resources.getSystem().getDisplayMetrics().scaledDensity = Resources.getSystem().getDisplayMetrics().density;</span><br><span class="line">        getResources().getDisplayMetrics().scaledDensity = getResources().getDisplayMetrics().density;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä¸ºä»€ä¹ˆéœ€è¦å±å¹•é€‚é…ï¼Ÿï¼Ÿï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦å±å¹•é€‚é…ï¼Ÿï¼Ÿï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦å±å¹•é€‚é…ï¼Ÿï¼Ÿï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦å±å¹•é€‚é…ï¼Ÿï¼Ÿï¼Ÿ</h3><ul>
<li>ä¹‹å‰ï¼Œä¸€ç›´ä¸æ‡‚ä¸ºä»€ä¹ˆéœ€è¦åšé€‚é…ï¼Ÿï¼Ÿï¼Ÿ ä½¿ç”¨dpä¸æ˜¯èƒ½è§£å†³ï¼Ÿï¼Ÿï¼Ÿ 1dp = ï¼ˆåƒç´ å¯†åº¦/160ï¼‰px</li>
</ul>
<ol>
<li>å…ˆçœ‹åƒç´ å¯†åº¦å…¬å¼ï¼šdpi = Math.sqrt(å®½ <em> å®½ + é«˜ </em> é«˜) / å±å¹•å°ºå¯¸ï¼Œå…¶ä¸­å®½é«˜æŒ‡çš„æ˜¯å±å¹•åˆ†è¾¨ç‡çš„å®½é«˜</li>
</ol>
<blockquote>
<p>ä¾‹å­1ï¼š<br>å°ç±³4W<br>åˆ†è¾¨ç‡: 1080 <em> 1920<br>å±å¹•å°ºå¯¸: 5inch<br>åƒç´ å¯†åº¦: dpi = Math.sqrt(1080 </em> 1080 + 1920 * 1920) / 5 â‰ˆ 440<br>1dp = (440 / 160) â‰ˆ 2.75px</p>
<p>ä¾‹å­2ï¼š<br>çº¢ç±³Note4<br>åˆ†è¾¨ç‡: 1080 <em> 1920<br>å±å¹•å°ºå¯¸: 5.5inch<br>åƒç´ å¯†åº¦: dpi = Math.sqrt(1080 </em> 1080 + 1920 * 1920) / 5.5 â‰ˆ 400<br>1dp = (400 / 160) â‰ˆ 2.5px</p>
<p>ç»“è®º: ä½¿ç”¨dpå¹¶ä¸èƒ½å®Œå…¨è§£å†³å±å¹•é€‚é…é—®é¢˜ï¼Œä½¿ç”¨åŒæ ·çš„dpå€¼åœ¨æ¯ä¸ªå±å¹•ä¸Šå±•ç°å‡ºæ¥çš„ç›¸å¯¹å¤§å°ä¸ä¸€è‡´</p>
</blockquote>
<h3 id="é€‚é…æ–¹æ¡ˆä¸€ï¼ˆé‡æ–°è®¾ç½®densityï¼‰"><a href="#é€‚é…æ–¹æ¡ˆä¸€ï¼ˆé‡æ–°è®¾ç½®densityï¼‰" class="headerlink" title="é€‚é…æ–¹æ¡ˆä¸€ï¼ˆé‡æ–°è®¾ç½®densityï¼‰"></a>é€‚é…æ–¹æ¡ˆä¸€ï¼ˆé‡æ–°è®¾ç½®densityï¼‰</h3><h5 id="dpä¸pxæ€ä¹ˆæ¢ç®—çš„ï¼Ÿspä¸pxæ€ä¹ˆæ¢ç®—çš„ï¼Ÿ"><a href="#dpä¸pxæ€ä¹ˆæ¢ç®—çš„ï¼Ÿspä¸pxæ€ä¹ˆæ¢ç®—çš„ï¼Ÿ" class="headerlink" title="dpä¸pxæ€ä¹ˆæ¢ç®—çš„ï¼Ÿspä¸pxæ€ä¹ˆæ¢ç®—çš„ï¼Ÿ"></a>dpä¸pxæ€ä¹ˆæ¢ç®—çš„ï¼Ÿspä¸pxæ€ä¹ˆæ¢ç®—çš„ï¼Ÿ</h5><blockquote>
<p>åˆ†æapplyDimension</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 22, getResources().getDisplayMetrics());</span><br><span class="line"></span><br><span class="line">public static float applyDimension(int unit, float value, DisplayMetrics metrics)</span><br><span class="line">&#123;</span><br><span class="line">    switch (unit) &#123;</span><br><span class="line">        case COMPLEX_UNIT_PX:</span><br><span class="line">            return value;</span><br><span class="line">        case COMPLEX_UNIT_DIP:</span><br><span class="line">            return value * metrics.density;</span><br><span class="line">        case COMPLEX_UNIT_SP:</span><br><span class="line">            return value * metrics.scaledDensity;</span><br><span class="line">        case COMPLEX_UNIT_PT:</span><br><span class="line">            return value * metrics.xdpi * (1.0f/72);</span><br><span class="line">        case COMPLEX_UNIT_IN:</span><br><span class="line">            return value * metrics.xdpi;</span><br><span class="line">        case COMPLEX_UNIT_MM:</span><br><span class="line">            return value * metrics.xdpi * (1.0f/25.4f);</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç»“è®º:<br>dp-&gt;pxå…¬å¼ï¼švalue <em> metrics.density<br>sp-&gt;pxå…¬å¼ï¼švalue </em> metrics.scaledDensity<br>å› æ­¤å…³é”®åœ¨äºmetricså¯¹è±¡ï¼Œè€Œmetricså¯¹è±¡åˆæ˜¯ä»Resourcesè·å–åˆ°ï¼ŒResourceså¯¹è±¡åˆæ˜¯ä»Activityæˆ–è€…Applicationä¸­è·å–</p>
</blockquote>
<h5 id="åˆ†æDisplayMetricså¯¹è±¡"><a href="#åˆ†æDisplayMetricså¯¹è±¡" class="headerlink" title="åˆ†æDisplayMetricså¯¹è±¡"></a>åˆ†æDisplayMetricså¯¹è±¡</h5><blockquote>
<p>DisplayMetrics#density ç”¨äºdpä¸pxçš„æ¢ç®—<br>DisplayMetrics#densityDpi åƒç´ å¯†åº¦<br>DisplayMetrics#scaledDensity å­—ä½“çš„ç¼©æ”¾å› å­ï¼Œæ­£å¸¸æƒ…å†µä¸‹å’Œdensityç›¸ç­‰ï¼Œä½†æ˜¯è°ƒèŠ‚ç³»ç»Ÿå­—ä½“å¤§å°åä¼šæ”¹å˜è¿™ä¸ªå€¼</p>
</blockquote>
<h5 id="å°è¯•ä¿®æ”¹Activity-getResources-getDisplayMetrics-å±æ€§å€¼ï¼Œä»¥é€‚é…å±å¹•"><a href="#å°è¯•ä¿®æ”¹Activity-getResources-getDisplayMetrics-å±æ€§å€¼ï¼Œä»¥é€‚é…å±å¹•" class="headerlink" title="å°è¯•ä¿®æ”¹Activity.getResources().getDisplayMetrics()å±æ€§å€¼ï¼Œä»¥é€‚é…å±å¹•"></a>å°è¯•ä¿®æ”¹Activity.getResources().getDisplayMetrics()å±æ€§å€¼ï¼Œä»¥é€‚é…å±å¹•</h5><blockquote>
<p>æ”¾åœ¨setContentViewä¹‹å‰</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DisplayMetrics displayMetrics = app.getResources().getDisplayMetrics();</span><br><span class="line">displayMetrics.densityDpi = 160;</span><br><span class="line">displayMetrics.density = 1.0;</span><br><span class="line">displayMetrics.scaledDensity = 1.0;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç»“è®º: è°ƒæ•´å‚æ•°ç”Ÿæ•ˆï¼Œå…·ä½“åˆ†æå¯è§å¤´æ¡æ–‡ç« æˆ‘å°±ä¸åœ¨åˆ†æäº†<a href="https://mp.weixin.qq.com/s/d9QCoBP6kV9VSWvVldVVwA" target="_blank" rel="noopener">ä¸€ç§æä½æˆæœ¬çš„Androidå±å¹•é€‚é…æ–¹å¼</a></p>
</blockquote>
<h5 id="densityDpiã€densityã€scaledDensityè¦è®¾ç½®å¤šå°‘ï¼Ÿ"><a href="#densityDpiã€densityã€scaledDensityè¦è®¾ç½®å¤šå°‘ï¼Ÿ" class="headerlink" title="densityDpiã€densityã€scaledDensityè¦è®¾ç½®å¤šå°‘ï¼Ÿ"></a>densityDpiã€densityã€scaledDensityè¦è®¾ç½®å¤šå°‘ï¼Ÿ</h5><blockquote>
<p>æ ¹æ®å¯†åº¦å…³ç³»åŠå…¶æ¢ç®—è¡¨ï¼Œå¾—çŸ¥æŸä¸ªåƒç´ å¯†åº¦èŒƒå›´ä¼šå¯¹åº”ä¸€ä¸ªæ ‡å‡†å€¼ï¼Œå› æ­¤æˆ‘ä»¬ç›´æ¥æ ¹æ®æ ‡å‡†å€¼æ¥è®¾ç½®è¿™ä¸‰ä¸ªå±æ€§å€¼ã€‚è¿™æ ·çš„å¥½å¤„æ˜¯ï¼Œå°†æ‰€æœ‰å±å¹•è½¬æ¢æˆæ ‡å‡†å±å¹•å¤„ç†<br>ä¾‹å¦‚: å°ç±³4W åƒç´ å¯†åº¦440  æ­¤æ—¶ï¼Œè°ƒæ•´å±æ€§å€¼densityDpi = 480ï¼›density = 3.0; scaledDensity = 3.0;</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">å®ç°ä»£ç ï¼š</span><br><span class="line">    /**</span><br><span class="line">     * è·å–åƒç´ å¯†åº¦</span><br><span class="line">     * @param densityDpi    åƒç´ å¯†åº¦</span><br><span class="line">     */</span><br><span class="line">    private static Density getDensity(int densityDpi) &#123;</span><br><span class="line">        if (densityDpi &lt;= Density.LDPI.densityDpi) &#123;</span><br><span class="line">            return Density.LDPI;</span><br><span class="line">        &#125; else if (densityDpi &lt;= Density.MDPI.densityDpi) &#123;</span><br><span class="line">            return Density.MDPI;</span><br><span class="line">        &#125; else if (densityDpi &lt;= Density.HDPI.densityDpi) &#123;</span><br><span class="line">            return Density.HDPI;</span><br><span class="line">        &#125; else if (densityDpi &lt;= Density.XHDPI.densityDpi) &#123;</span><br><span class="line">            return Density.XHDPI;</span><br><span class="line">        &#125; else if (densityDpi &lt;= Density.XXHDPI.densityDpi) &#123;</span><br><span class="line">            return Density.XXHDPI;</span><br><span class="line">        &#125; else if (densityDpi &lt;= Density.XXXHDPI.densityDpi) &#123;</span><br><span class="line">            return Density.XXXHDPI;</span><br><span class="line">        &#125; else &#123;    // å…¶ä»–æƒ…å†µä½¿ç”¨é»˜è®¤å±å¹•ä¿¡æ¯</span><br><span class="line">            int density = (int) (1.0 * densityDpi / 160);</span><br><span class="line">            if (density * 160 &lt; densityDpi) &#123;</span><br><span class="line">                density += 1;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Density.WHATHDPI.setDensityDpi(density * 160);</span><br><span class="line">            Density.WHATHDPI.setDensity(density);</span><br><span class="line">            Density.WHATHDPI.setScaledDensity(density);</span><br><span class="line">            Density.WHATHDPI.setScaledDensity(density);</span><br><span class="line">            return Density.WHATHDPI;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h5 id="ä¿®æ”¹ç³»ç»Ÿå­—ä½“å¤§å°è¿”å›é¡µé¢åæ˜¯å¦å½±å“é…ç½®"><a href="#ä¿®æ”¹ç³»ç»Ÿå­—ä½“å¤§å°è¿”å›é¡µé¢åæ˜¯å¦å½±å“é…ç½®" class="headerlink" title="ä¿®æ”¹ç³»ç»Ÿå­—ä½“å¤§å°è¿”å›é¡µé¢åæ˜¯å¦å½±å“é…ç½®"></a>ä¿®æ”¹ç³»ç»Ÿå­—ä½“å¤§å°è¿”å›é¡µé¢åæ˜¯å¦å½±å“é…ç½®</h5><blockquote>
<p>ä¿®æ”¹åä¼šå½±å“é¡µé¢é…ç½®ï¼Œéœ€å®ç°Activity#onConfigurationChangedæˆ–Application#onConfigurationChangedæ–¹æ³•ï¼Œé‡æ–°è®¾ç½®é…ç½®</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">public void onConfigurationChanged(android.content.res.Configuration newConfig) &#123;</span><br><span class="line">    super.onConfigurationChanged(newConfig);</span><br><span class="line">    AdaptiveUtil.resetDensity(this);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="æ›´æ”¹å…¨å±€çš„å‚æ•°è¿˜æ˜¯æ›´æ”¹activityçš„å‚æ•°"><a href="#æ›´æ”¹å…¨å±€çš„å‚æ•°è¿˜æ˜¯æ›´æ”¹activityçš„å‚æ•°" class="headerlink" title="æ›´æ”¹å…¨å±€çš„å‚æ•°è¿˜æ˜¯æ›´æ”¹activityçš„å‚æ•°"></a>æ›´æ”¹å…¨å±€çš„å‚æ•°è¿˜æ˜¯æ›´æ”¹activityçš„å‚æ•°</h5><blockquote>
<p>å¦‚æœä¸ºäº†å…¼å®¹ä»¥å‰ç‰ˆæœ¬ï¼Œå»ºè®®æ”¾åœ¨BaseActivityä¸­å¤„ç†é…ç½®è°ƒæ•´; å¦åˆ™åœ¨Applicationä¸­å¤„ç†ç»Ÿä¸€æ›´æ”¹é…ç½®</p>
</blockquote>
<h5 id="å’Œå¤´æ¡ç›¸æ¯”"><a href="#å’Œå¤´æ¡ç›¸æ¯”" class="headerlink" title="å’Œå¤´æ¡ç›¸æ¯”"></a>å’Œå¤´æ¡ç›¸æ¯”</h5><blockquote>
<p>â‘  å¤´æ¡ä½¿ç”¨displayMetrics.widthPixels / 360æ¥å®šä¹‰æ ‡å‡†ï¼Œæœ¬æ–‡æ ¹æ®åŸå§‹çš„åƒç´ å¯†åº¦æ¥åŒ¹é…æ ‡å‡†çš„å±å¹•<br>â‘¡ å¤´æ¡ä¸ä»…æ›´æ”¹äº†Activityä¸­çš„DisplayMetricså¯¹è±¡å±æ€§ï¼Œè¿˜æ”¹äº†Appplicationä¸­çš„ï¼Œæœ¬æ–‡å°‘äº†Applicationä¸­çš„æ›´æ”¹ï¼Œå“ï¼Œæˆ‘æƒ³çš„è¿˜æ˜¯ä¸å¤Ÿç»†<br>â‘¢ å’Œä»Šæ—¥å¤´æ¡ä¸€æ ·ï¼Œä¸å—uiè®¾è®¡ç¨¿å½±å“ï¼Œå¦‚æœè®¾è®¡ç¨¿æ˜¯æŒ‰ç…§xxhdpiè®¾è®¡çš„ï¼Œæ­¤æ—¶æŒ‰ç…§2px = 1dpå®Œæˆå¸ƒå±€ï¼Œå“ªå¤©è®¾è®¡ç¨¿æ¢æˆxxxhdpiæ¥è®¾è®¡ï¼Œæ­¤æ—¶æŒ‰ç…§3px = 1dpæ¥å®Œæˆå¸ƒå±€å³å¯ã€‚</p>
</blockquote>
<h5 id="é‡åˆ°çš„é—®é¢˜å’Œä¸è¶³"><a href="#é‡åˆ°çš„é—®é¢˜å’Œä¸è¶³" class="headerlink" title="é‡åˆ°çš„é—®é¢˜å’Œä¸è¶³"></a>é‡åˆ°çš„é—®é¢˜å’Œä¸è¶³</h5><blockquote>
<p>å†·å¯åŠ¨å›¾ä½¿ç”¨layeræ—¶ï¼Œè°ƒæ•´é…ç½®ååº”ç”¨å†·å¯åŠ¨èƒŒæ™¯å›¾åœ¨éƒ¨åˆ†æœºå­ä¸Šå­˜åœ¨é—ªåŠ¨çš„æƒ…å†µï¼Œå³å› ä¸ºæ²¡è°ƒé…ç½®å‰ä¸è°ƒæ•´é…ç½®ådpå€¼å˜åŒ–å¯¼è‡´å›¾ç‰‡å˜å¤§æˆ–ç¼©å°</p>
</blockquote>
<h3 id="é€‚é…æ–¹æ¡ˆäºŒï¼ˆæœ€å°å®½åº¦é™å®šç¬¦ï¼‰"><a href="#é€‚é…æ–¹æ¡ˆäºŒï¼ˆæœ€å°å®½åº¦é™å®šç¬¦ï¼‰" class="headerlink" title="é€‚é…æ–¹æ¡ˆäºŒï¼ˆæœ€å°å®½åº¦é™å®šç¬¦ï¼‰"></a>é€‚é…æ–¹æ¡ˆäºŒï¼ˆæœ€å°å®½åº¦é™å®šç¬¦ï¼‰</h3><ul>
<li>æœ€å°å®½åº¦é™å®šç¬¦é€‚é…æ–¹æ¡ˆï¼Œå‚è€ƒ<a href="https://mp.weixin.qq.com/s/X-aL2vb4uEhqnLzU5wjc4Q" target="_blank" rel="noopener">Android ç›®å‰ç¨³å®šé«˜æ•ˆçš„UIé€‚é…æ–¹æ¡ˆ</a></li>
<li>ä¸ªäººè§‰å¾—å¼Šç—…æœ‰ä¸‰ï¼šâ‘  æ ¹æ®è¯¥æ–‡ç« è®²è§£ï¼Œå¤šä¸ªdimensæ–‡ä»¶ä¼šå¯¼è‡´åŒ…å¢å¤§ï¼Œå¯èƒ½ä¼šå¢å¤§300kb-800kbå·¦å³ï¼Œå¯ä»¥æ¥å—å§ï¼›â‘¡ éœ€è¦å¼€å‘è€…æœ‰ä¸€å®šçš„ç»éªŒï¼ŒçŸ¥é“éœ€è¦å¢åŠ å“ªäº›å¸¸ç”¨çš„å°ºå¯¸ï¼Œé¿å…æ— ç”¨åŠŸï¼›â‘¢ å³ä½¿æœ‰ç»éªŒçš„å¼€å‘è€…ä¹Ÿå¯èƒ½é—æ¼æŸä¸ªæœºå‹çš„é€‚é…ï¼›</li>
</ul>
<h3 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h3><p><a href="https://github.com/black-toast/Demo" target="_blank" rel="noopener">demoé“¾æ¥</a></p>

          </div>
          <br><br>
          <div>
              <p>
                       
                      <span class="badge badge-default">#&nbsp;Android,å±å¹•é€‚é…</span>
                      &nbsp;
                      
              </p>
          </div>
        </div>
      </div>  
    </div>
  </div>
  <!-- TOC -->
  
  <div id="toc">
    <p class="toc-title"><i class="material-icons" style="vertical-align:middle">toc</i>Toc:</p> 
    <div id="tocbot"></div>
  </div>

</div>


<br>
<!-- Comments -->
<div class="comments" id="comments">

    
    <div class="disqus" style="width:100%">
    <div id="disqus_thread"></div>
    <script>               
        var disqus_shortname = '';
        var disqus_config = function () {
            this.page.url = 'http://yoursite.com/2019/01/01/ä½ è¯¥çŸ¥é“çš„Androidå±å¹•é€‚é…æ–°å§¿åŠ¿/'; 
            this.page.identifier = '/2019/01/01/ä½ è¯¥çŸ¥é“çš„Androidå±å¹•é€‚é…æ–°å§¿åŠ¿/';
        };
        (function() { 
            var d = document, s = d.createElement('script');
            s.type = 'text/javascript';
            s.src = '//'+disqus_shortname+'.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>                                
</div>

</div>
  

<footer class="footer footer-default">
        <div class="container">
          <div class="float-left" style="padding: 15px 0;">
              <b>æ¥ä¸‹æ¥è¦å¾€å“ªæ¼‚æµ~</b>
          </div>
          <div class="copyright float-right">
            &copy;
            <script>
              document.write(new Date().getFullYear())
            </script>&nbsp;<a href="https://hexo.io/zh-cn/" target="_blank">HEXO</a>&nbsp;<i class="material-icons">favorite_border</i>
            <a href="https://github.com/invom/Material-T" target="_blank">Material-T</a>
          </div>
        </div>
</footer>
      <!--   Core JS Files   -->
      <script src="/js/core/jquery.min.js?v=3.2.1"></script>
      <script src="/js/main.js"></script>
      <script src="/js/core/popper.min.js"></script>
      <script src="/js/core/bootstrap-material-design.min.js"></script>
      <script src="/js/plugins/moment.min.js"></script>
      <!-- Control Center for Material Kit: parallax effects, scripts for the example pages etc -->
      <script src="/js/material-kit.min.js?v=2.0.5"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
        <script src="/js/post.js"></script>
        <script src="/js/plugins/prettify.js"></script>
        <script>
            $(document).ready(function(){
                $('pre').addClass('prettyprint linenums');
                prettyPrint();
            })
        </script>
      
</body>
</html>